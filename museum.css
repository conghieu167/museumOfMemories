/* --- (MỚI) Mã để ẩn thanh cuộn --- */
#museum-content,
.timeline-container {
  /* Cho Firefox */
  scrollbar-width: none;
}
#museum-content::-webkit-scrollbar,
.timeline-container::-webkit-scrollbar {
  /* Cho Chrome, Safari và Edge */
  display: none;
}

/* --- Cài đặt chung & Theme Bảo Tàng --- */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
html {
  scroll-behavior: smooth;
}
body {
  font-family: "Montserrat", sans-serif;
  background-color: #fdf6e3;
  color: #5d4037;
  line-height: 1.7;
  overflow: hidden; /* Chống cuộn trang lúc đầu */
}
h1,
h2,
h3 {
  font-family: "Cormorant Garamond", serif;
  color: #8d6e63;
  font-weight: 700;
}
.hidden {
  display: none !important;
}

/* --- Hiệu ứng Rèm Sân Khấu --- */
#curtain-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10000;
  pointer-events: none;
}
.curtain {
  position: absolute;
  top: 0;
  width: 50.5%;
  height: 100%;
  background-color: #8b0000;
  background-image: linear-gradient(
    to right,
    #7a0000 0%,
    #a10000 10%,
    #a10000 90%,
    #7a0000 100%
  );
  background-size: 120px 100%;
  box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.6);
  transition: transform 2.5s cubic-bezier(0.86, 0, 0.07, 1);
}
.curtain.left {
  left: 0;
}
.curtain.right {
  right: 0;
}
.curtain.left.open {
  transform: translateX(-100%);
}
.curtain.right.open {
  transform: translateX(100%);
}

/* --- Bố cục cuộn trang Snap Scrolling --- */
#museum-content {
  height: 100vh;
  overflow-y: scroll;
  scroll-snap-type: y mandatory;
}
.snap-section {
  height: 100vh;
  scroll-snap-align: start;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 40px 20px;
  position: relative;
  overflow: hidden;
}
.section-content-wrapper {
  max-width: 1200px;
  width: 100%;
  text-align: center;
}

/* --- Sảnh Chính (Màn 1) --- */
#main-hall {
  background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
    url("img/museum_hall_blur.png") no-repeat center center/cover;
  color: #fff;
}
.title-hidden {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 1.5s ease-out, transform 1.5s ease-out;
}
.title-visible {
  opacity: 1;
  transform: translateY(0);
}
#main-hall h1 {
  font-size: 5rem;
  color: #f5e5c4;
}
#main-hall p {
  font-size: 1.5rem;
  color: #ddd;
}
#main-hall h2 {
  font-size: 3.5rem;
  color: #fff;
  margin-bottom: 30px;
}
#scroll-indicator,
#si2 {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
}
#scroll-indicator span,
#si2 span {
  display: block;
  font-size: 2rem;
  animation: bounce 2s infinite;
}
@keyframes bounce {
  0%,
  20%,
  50%,
  80%,
  100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-15px);
  }
  60% {
    transform: translateY(-10px);
  }
}

/* --- Phong cách chung cho các Khu Trưng Bày --- */
.exhibit-title {
  font-size: 3.5rem;
  margin-bottom: 40px;
}
.origin-exhibit-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: 20px;
  height: 70vh;
  max-width: 1100px;
  margin: 0 auto;
  grid-template-areas: "main-photo main-photo quote item" "main-photo main-photo song item" "main-photo main-photo message message";
}
.artifact {
  background: #fff;
  border: 1px solid #d7ccc8;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  padding: 15px;
  position: relative;
  overflow: hidden;
  transition: transform 0.4s ease;
}
.artifact:hover {
  transform: translateY(-10px);
}
.artifact-label {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(5px);
  padding: 10px;
  opacity: 0;
  transition: opacity 0.4s ease;
}
.artifact:hover .artifact-label {
  opacity: 1;
}

#galaxy-section {
  background: #000010
    url("https://www.transparenttextures.com/patterns/stardust.png");
  color: #fff;
}
#galaxy-section .exhibit-title {
  color: #fff;
}
.galaxy-intro {
  max-width: 600px;
  margin: -20px auto 40px;
}
.star-field {
  position: relative;
  width: 100%;
  max-width: 900px;
  height: 50vh;
  margin: 0 auto;
}
.constellation {
  position: absolute;
  transition: transform 0.3s ease;
}
.constellation:hover {
  transform: scale(1.1);
}
.star-main {
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 10px white, 0 0 20px white;
  animation: twinkle 2s infinite alternate;
}
.star-small {
  position: absolute;
  width: 4px;
  height: 4px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 5px white;
  animation: twinkle 3s infinite alternate;
}
@keyframes twinkle {
  from {
    opacity: 0.5;
  }
  to {
    opacity: 1;
  }
}
.constellation-label {
  position: absolute;
  bottom: -180px;
  left: 50%;
  transform: translateX(-50%);
  width: 200px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: 10px;
  border-radius: 5px;
  opacity: 0;
  transition: opacity 0.4s ease, bottom 0.4s ease;
  text-align: center;
}
.constellation:hover .constellation-label {
  opacity: 1;
}
.audio-library-section .section-content-wrapper,
.gift-shop-section .section-content-wrapper {
  max-width: 800px;
}
.audio-track {
  background: #fff;
  padding: 20px;
  margin-bottom: 20px;
  border-left: 5px solid #bcaaa4;
  text-align: left;
}
.future-garden-section {
  background-color: #f5f5f5;
}
.garden-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 30px;
}
.pedestal {
  background: white;
  padding: 30px;
  transition: transform 0.3s;
}
.pedestal:hover {
  transform: translateY(-10px);
}
#reveal-gift-btn {
  background-color: #8d6e63;
  color: white;
  border: none;
  padding: 15px 30px;
  font-size: 1.2rem;
  cursor: pointer;
  margin-top: 30px;
}

/* --- BỘ ĐIỀU KHIỂN NHẠC (Thiết kế mới) --- */
#music-controls {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  background-color: rgba(40, 25, 15, 0.7); /* Nền gỗ tối màu hơn */
  backdrop-filter: blur(8px);
  padding: 8px 15px; /* Điều chỉnh lại padding */
  border-radius: 50px;
  display: flex;
  align-items: center;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

#mute-btn {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: #f5e5c4; /* Màu vàng kem cho icon */
  cursor: pointer;
  margin-right: 12px;
  transition: transform 0.2s;
}
#mute-btn:hover {
  transform: scale(1.1);
}

/* Thiết kế lại thanh trượt âm lượng */
#volume-slider {
  -webkit-appearance: none; /* Bỏ giao diện mặc định */
  appearance: none;
  width: 120px; /* Tăng chiều rộng */
  height: 8px; /* Tăng độ dày */
  background: #6d4c41; /* Màu rãnh trượt (nền gỗ) */
  outline: none;
  border-radius: 5px;
  cursor: pointer;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.4); /* Tạo chiều sâu cho rãnh trượt */
}

/* Thiết kế núm vặn cho Chrome/Safari */
#volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px; /* Kích thước núm vặn */
  height: 20px; /* Kích thước núm vặn */
  background: #c0a062; /* Màu đồng thau */
  border-radius: 50%;
  border: 2px solid #fff;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
  transition: transform 0.2s;
}
/* --- (MỚI) KHUNG TIÊU ĐỀ CHO SẢNH CHÍNH --- */

.title-frame {
  position: relative;
  display: inline-block; /* Giúp khung co lại vừa với nội dung */
  padding: 2.5rem 4rem; /* Tăng khoảng cách giữa chữ và viền */

  /* Nền giả gỗ tối màu */
  /* background: linear-gradient(145deg, #6d4c41, #4e342e); */

  /* Viền giả đồng thau */
  border: 3px solid #c0a062;
  border-radius: 10px;

  /* Hiệu ứng đổ bóng để tạo chiều sâu */
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5), inset 0 0 15px rgba(0, 0, 0, 0.4);
}

/* Điều chỉnh lại màu chữ để nổi bật trên nền tối của khung */
#main-hall .title-frame h1 {
  color: #f5e5c4; /* Màu vàng kem */
  font-size: 5.5rem; /* Giảm nhẹ kích thước để vừa khung */
}

#main-hall .title-frame p {
  color: #ddd;
}

#main-hall .title-frame h2 {
  color: #fff;
  font-size: 4rem; /* Giảm nhẹ kích thước */
  margin-bottom: 0; /* Bỏ margin-bottom vì đã có padding của khung */
}

/* --- Kiểu cho Khu "Khởi Nguồn" (Phiên bản cao cấp) --- */

/* --- (CẬP NHẬT) Kiểu cho Khu "Khởi Nguồn" (Sửa lỗi Layer) --- */

/* ---- Bối cảnh khu trưng bày ---- */
#origin-exhibit-section {
  position: relative;
  overflow: hidden;
  padding: 20px;
  background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
    url("img/museum_blur.png") no-repeat center center/cover;
  color: #fff;
}

/* ---- Mỗi vật phẩm trưng bày ---- */
.exhibit-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  transition: transform 0.3s ease-in-out;
}
.exhibit-item:hover {
  transform: translateY(-10px) scale(1.05);
}

/* ---- Khung tranh (Áp dụng từ ví dụ của bạn) ---- */
.art-frame {
  width: 100%;
  max-width: 300px;
  margin-bottom: 20px;

  padding: 20px;
  border-width: 20px;
  border-style: solid;
  /* Các sắc thái nâu sẫm (espresso) để tạo chiều sâu */
  border-color: #3e2723 #5d4037 #6d4c41 #5d4037;
  /* Nền lót được đổi sang màu nâu-xám (greige) để hợp tông */
  background-image: linear-gradient(#fff, #bcaaa4);
  box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.6), 0 5px 2px rgba(0, 0, 0, 0.1),
    0 10px 20px rgba(0, 0, 0, 0.8);
  position: relative;
  overflow: hidden;
}

/* ---- Hiệu ứng phản chiếu trên mặt kính ---- */
.art-frame::before {
  content: "";
  position: absolute;
  top: -180px; /* Điều chỉnh vị trí */
  left: -60px; /* Điều chỉnh vị trí */
  width: 300px;
  height: 300px;
  transform: rotateZ(-45deg);
  background-image: linear-gradient(
    rgba(255, 255, 255, 0.3),
    rgba(255, 255, 255, 0)
  );
}

/* ---- Hình ảnh bên trong khung ---- */
.art-frame img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover; /* Đảm bảo ảnh lấp đầy khung */

  /* Viền và bóng đổ bên trong cho ảnh */
  border-width: 2px;
  border-style: solid;
  border-color: #bbbab4 #c7c7bf #e5e4df #c7c7bf;
  box-shadow: 0 -1px 1px rgba(0, 0, 0, 0.1),
    0 1px 1px 1px rgba(255, 255, 255, 0.7);
}
/* ---- Trạng thái ban đầu & Hiệu ứng hiện ra ---- */

/* Ẩn tiêu đề và các khung tranh ban đầu */
/* Sửa lại để tìm đến thẻ <header> nằm bên trong #origin-exhibit-section */
#origin-exhibit-section header {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  transition-delay: 1s;
}

#origin-exhibit-section header.is-visible {
  opacity: 1;
  transform: translateY(0);
}

.exhibit-item {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}
/* (MỚI) CSS cho animation của khu vực nút bấm */
#exhibit-controls {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  /* Delay 0.7s, xuất hiện ngay sau tiêu đề (0.5s) */
  transition-delay: 2s;
}

#exhibit-controls.is-visible {
  opacity: 1;
  transform: translateY(0);
}
/* Ẩn các khung tranh khỏi layout cho đến khi được gọi */
.exhibit-item {
  /* display: none; */ /* Tạm thời không dùng display:none để grid giữ layout */
  visibility: hidden; /* Dùng visibility để giữ không gian */
}

/* Lớp .is-visible sẽ được thêm bằng JavaScript để kích hoạt animation */
.exhibit-header.is-visible,
.exhibit-item.is-visible {
  opacity: 1;
  transform: translateY(0);
  visibility: visible;
}

/* ---- (MỚI) Style cho nút bấm ---- */
#next-exhibit-btn {
  background-color: #c19a6b; /* Màu đồng cổ */
  color: #4e342e; /* Màu chữ nâu sẫm */
  font-family: "Cormorant Garamond", serif; /* Font giống bảo tàng */
  font-size: 1.1rem;
  font-weight: 600;
  padding: 12px 30px;
  border: 1px solid #a47c57;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.3s ease;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

#next-exhibit-btn:hover {
  background-color: #d7bfa6;
  transform: translateY(-2px);
}

/* Style khi nút bị vô hiệu hóa */
#next-exhibit-btn:disabled {
  background-color: #888;
  cursor: not-allowed;
  opacity: 0.5;
  transform: translateY(0);
}
/* ---- Bảng thông tin (Plaque) ---- */
.info-plaque {
  background: #c19a6b; /* Màu đồng cổ */
  color: #2f2d2d; /* Chữ màu tối */
  width: 80%;
  padding: 10px 15px;
  text-align: center;
  border: 1px solid #a47c57;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  border-radius: 2px;
}
.info-plaque h3 {
  font-size: 1.1rem; /* Tăng kích thước chữ một chút */
  color: #2f2d2d;
  font-weight: 600; /* In đậm hơn */
}
.info-plaque p {
  font-size: 0.85rem;
  color: #434040;
  margin-top: 4px;
}

/* --- (MỚI) HIỆU ỨNG NHẤP NHÁY CHO NÚT BẬT NHẠC --- */
.pulse {
  animation: pulse-animation 1.5s infinite;
}

@keyframes pulse-animation {
  0% {
    box-shadow: 0 0 0 0 rgba(192, 160, 98, 0.7);
  }
  70% {
    box-shadow: 0 0 0 20px rgba(192, 160, 98, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(192, 160, 98, 0);
  }
}

/* --- (MỚI) THIẾT KẾ CHO ĐẠI LỘ THỜI GIAN -------------------------------------------------------------------------------------------------------- */

/* Phối màu nền cho khu vực timeline */
.timeline-section {
  background-color: #f8f5f0;
}
.timeline-section .exhibit-title {
  position: relative; /* Bắt buộc để định vị đường gạch chân con */
  padding-bottom: 7px; /* Tạo khoảng trống phía dưới tiêu đề */
}

/* 2. Vẽ đường gạch chân nghệ thuật */
.timeline-section .exhibit-title::after {
  content: "";
  position: absolute;
  bottom: 0; /* Đặt ở dưới cùng của không gian padding */
  left: 50%; /* Căn giữa theo chiều ngang */
  transform: translateX(-50%);

  width: 60%; /* Độ dài của đường gạch */
  height: 3px; /* Độ dày của đường gạch */

  background-color: #c19a6b; /* Dùng màu vàng đồng của bảo tàng */
  border-radius: 2px; /* Bo tròn các cạnh */
}

.timeline-container {
  --col-gap: 2rem;
  --row-gap: 2rem;
  --line-w: 0.25rem;
  display: grid;
  grid-template-columns: var(--line-w) 1fr;
  grid-auto-columns: max-content;
  column-gap: var(--col-gap);
  list-style: none;
  width: min(60rem, 90%);
  margin-inline: auto;
  max-height: 80vh; /* Giới hạn chiều cao và cho phép cuộn */
  overflow-y: auto;
  padding: 2rem 0;
}

/* Đường kẻ chính giữa */
.timeline-container::before {
  content: "";
  grid-column: 1;
  grid-row: 1 / span 20;
  background: #d7ccc8; /* (PHỐI MÀU) Màu nâu xám nhạt */
  border-radius: calc(var(--line-w) / 2);
}

.timeline-container li:not(:last-child) {
  margin-bottom: var(--row-gap);
}

.timeline-container li {
  grid-column: 2;
  --inlineP: 1.5rem;
  margin-inline: var(--inlineP);
  grid-row: span 2;
  display: grid;
  grid-template-rows: min-content min-content;
}

/* Thẻ Ngày tháng */
.timeline-container li .date {
  --dateH: 3rem;
  height: var(--dateH);
  margin-inline: calc(var(--inlineP) * -1);
  text-align: center;
  background-color: var(--accent-color); /* (PHỐI MÀU) Dùng màu vàng đồng */
  color: white;
  font-size: 1.25rem;
  font-weight: 700;
  font-family: "Montserrat", sans-serif;
  display: grid;
  place-content: center;
  position: relative;
  border-radius: calc(var(--dateH) / 2) 0 0 calc(var(--dateH) / 2);
  cursor: pointer;
  transition: transform 0.3s ease;
}
/* .timeline-container li .date:hover {
  transform: scale(1.05);
} */

/* Vòng tròn trên đường kẻ chính */
.timeline-container li .date::after {
  content: "";
  position: absolute;
  width: 2rem;
  aspect-ratio: 1;
  background: #f8f5f0; /* (PHỐI MÀU) Nền của vòng tròn */
  border: 0.3rem solid var(--accent-color);
  border-radius: 50%;
  top: 50%;
  transform: translate(50%, -50%);
  right: calc(100% + var(--col-gap) + var(--line-w) / 2);
  transition: background-color 0.3s ease;
}
.timeline-container li.is-active .date::after {
  background: var(--accent-color); /* Tô đầy màu cho vòng tròn khi active */
}

/* Thẻ nội dung ẩn/hiện */
.timeline-content-card {
  background: #ffffff;
  position: relative;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  transform-origin: top;
  transform: scaleY(0);
  opacity: 0;
  height: 0;
  transition: transform 0.4s ease, opacity 0.4s ease, height 0.4s ease;
}
.timeline-content-card .title,
.timeline-content-card .descr {
  padding-inline: 1.5rem;
}
.timeline-content-card .title {
  padding-block-start: 1.5rem;
  padding-block-end: 1rem;
  font-family: "Cormorant Garamond", serif;
  font-size: 1.5rem;
  font-weight: 700;
  color: #4b3f38;
}
.timeline-content-card .descr {
  padding-block-end: 1.5rem;
  font-weight: 400;
  color: #5d4037;
  font-family: "Montserrat", sans-serif;
}
.timeline-container li.is-active .timeline-content-card {
  transform: scaleY(1);
  opacity: 1;
  height: auto;
}

/* Responsive cho màn hình lớn (zig-zag layout) */
@media (min-width: 40rem) {
  .timeline-container {
    grid-template-columns: 1fr var(--line-w) 1fr;
  }
  .timeline-container::before {
    grid-column: 2;
  }
  .timeline-container li:nth-child(odd) {
    grid-column: 1;
  }
  .timeline-container li:nth-child(even) {
    grid-column: 3;
  }
  .timeline-container li:nth-child(2) {
    grid-row: 2/4;
  }
  .timeline-container li:nth-child(odd) .date::after {
    transform: translate(-50%, -50%);
    left: calc(100% + var(--col-gap) + var(--line-w) / 2);
  }
  .timeline-container li:nth-child(odd) .date {
    border-radius: 0 calc(var(--dateH) / 2) calc(var(--dateH) / 2) 0;
  }
}

/* Responsive cho màn hình lớn (zig-zag layout) */
@media (min-width: 40rem) {
  .timeline-container {
    grid-template-columns: 1fr var(--line-w) 1fr;
  }
  .timeline-container::before {
    grid-column: 2;
  }
  .timeline-container li:nth-child(odd) {
    grid-column: 1;
  }
  .timeline-container li:nth-child(even) {
    grid-column: 3;
  }
  .timeline-container li:nth-child(2) {
    grid-row: 2/4;
  }
  .timeline-container li:nth-child(odd) .date::before {
    clip-path: polygon(0 0, 100% 0, 100% 100%);
    left: 0;
  }
  .timeline-container li:nth-child(odd) .date::after {
    transform: translate(-50%, -50%);
    left: calc(100% + var(--col-gap) + var(--line-w) / 2);
  }
  .timeline-container li:nth-child(odd) .date {
    border-radius: 0 calc(var(--dateH) / 2) calc(var(--dateH) / 2) 0;
  }
}

/* --- Kiểu cho Màn 5: Hộp Thư Kỷ Niệm (Thiết kế Bảng Thư) --- */

#mailbox-section {
  background-color: #efebe9; /* Nền tường be ấm */
  overflow: hidden;
}
.mailbox-intro {
  max-width: 600px;
  margin: -20px auto 40px;
}

/* --- Thiết kế Bảng Thư --- */
.corkboard {
  position: relative;
  width: 90%;
  max-width: 1200px;
  height: 70vh;
  margin: 0 auto;
  background-color: #d2b48c; /* Màu gỗ bần */
  background-image: url("https://www.transparenttextures.com/patterns/cork-wallet.png"); /* Họa tiết gỗ bần */
  border: 20px solid #6b4f3a; /* Khung gỗ sẫm màu */
  border-radius: 10px;
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4), inset 0 0 20px rgba(0, 0, 0, 0.3);
}

.mail-item {
  position: absolute;
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.mail-item:hover {
  transform: scale(1.05) !important; /* Ghi đè transform cũ */
  z-index: 20 !important;
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4) !important;
}

/* Hiệu ứng đinh ghim */
.mail-item::before {
  content: "";
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(
    circle at 30% 30%,
    #ff7b7b,
    #c70039
  ); /* Màu đỏ của đinh ghim */
  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.5);
  z-index: 5; /* Nằm trên item */
}
.main-letter::before {
  top: -10px;
} /* Đặt đinh ghim bên ngoài phong bì */

.postcard-1 {
  width: 320px;
  height: 210px;
  top: 10%;
  left: 10%;
  transform: rotate(-8deg);
  z-index: 9;
}
.postcard-2 {
  width: 320px;
  height: 210px;
  bottom: 10%;
  right: 10%;
  transform: rotate(5deg);
  z-index: 9;
}

.main-letter {
  width: 300px;
  height: 200px;
  background-color: #c19a6b; /* (PHỐI MÀU) Màu nền trong của phong bì */
  position: absolute;
  top: 40%;
  left: 35%;
  z-index: 10;
  display: flex;
  justify-content: center;
  cursor: pointer;
}

/* Nắp phong bì */
.lid {
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  border-right: 150px solid transparent;
  border-bottom: 100px solid transparent;
  border-left: 150px solid transparent;
  transform-origin: top;
  transition: transform 0.25s linear;
}

/* Nắp khi đóng (mặt trước) */
.lid.lid-one {
  border-top: 100px solid #eadbc8; /* (PHỐI MÀU) Màu nắp phong bì */
  transform: rotateX(0deg);
  z-index: 3;
  transition-delay: 0.75s;
}

/* Nắp khi mở (mặt sau) */
.lid.lid-two {
  border-top: 100px solid #d8c7b5; /* (PHỐI MÀU) Màu mặt sau của nắp */
  transform: rotateX(90deg);
  z-index: 1;
  transition-delay: 0.5s;
}

/* Thân phong bì (các cạnh) */
.envelope-body {
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  border-top: 100px solid transparent;
  border-right: 150px solid #f5e5c4; /* (PHỐI MÀU) Cạnh phải */
  border-bottom: 100px solid #eadbc8; /* (PHỐI MÀU) Cạnh đáy */
  border-left: 150px solid #fbf9f3; /* (PHỐI MÀU) Cạnh trái */
  z-index: 3;
}

/* Lá thư bên trong */
.letter-content {
  position: absolute;
  top: 0;
  width: 85%;
  height: 85%;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
  z-index: 2;
  transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
  padding: 15px;
  font-family: "Dancing Script", cursive;
}
.letter-content h4 {
  font-size: 1.5rem;
  color: #333;
}
.letter-content p {
  font-size: 1rem;
  color: #555;
}
.letter-content .signature {
  text-align: right;
  margin-top: 10px;
}

/* --- Kích hoạt animation bằng class .is-open --- */

/* Khi mở, nắp trước lật đi */
.main-letter.is-open .lid.lid-one {
  transform: rotateX(90deg);
  transition-delay: 0s;
}

/* Khi mở, nắp sau tiếp tục lật */
.main-letter.is-open .lid.lid-two {
  transform: rotateX(180deg);
  transition-delay: 0.25s;
}

/* Khi mở, lá thư trượt lên */
.main-letter.is-open .letter-content {
  transform: translateY(-90px);
  transition-delay: 0.5s;
}

/* --- Animation Lật Bưu Thiếp --- */
.postcard {
  perspective: 1000px;
}
.postcard-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.8s;
  transform-style: preserve-3d;
}
.postcard.is-flipped .postcard-inner {
  transform: rotateY(180deg);
}
.postcard-front,
.postcard-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
  border-radius: 8px;
  background-color: #fff;
}
.postcard-front {
  padding: 10px;
}
.postcard-front img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 4px;
}
.postcard-back {
  transform: rotateY(180deg);
  padding: 20px;
  display: flex;
  flex-direction: column;
}
.postcard-greeting {
  font-size: 1.5rem;
}
.postcard-message {
  flex-grow: 1;
  font-size: 1.2rem;
}
.postcard-sender {
  text-align: right;
  font-size: 1.3rem;
}
.font-friend-1 {
  font-family: "Caveat", cursive;
}
.font-friend-2 {
  font-family: "Indie Flower", cursive;
}

/* --- Responsive cho Di động --- */
@media (max-width: 768px) {
  .corkboard {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 30px;
    position: static;
    height: auto;
    padding: 30px 20px;
    border-width: 10px;
  }
  .mail-item {
    position: static;
    transform: none !important;
  }
  .main-letter {
    order: 1;
    transform: translate(0, 0) !important;
  }
  .postcard-1 {
    order: 2;
  }
  .postcard-2 {
    order: 3;
  }
}
